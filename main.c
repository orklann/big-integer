#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

typedef struct _BigInt {
    int *rep;
    int n;
    int d;
} BigInt;

BigInt big_integer_create(char *s) {
    BigInt result;
    result.rep = (int*)malloc(sizeof(int) * strlen(s));
    int index = 0;
    for (int i = strlen(s) - 1; i >= 0; i--) {
        result.rep[index] = s[i] - '0';
        index++;
    }
    result.n = strlen(s);
    result.d = 0;
    return result;
}

BigInt add(BigInt a, BigInt b) {
    int n = a.n;
    int d = 0;
    BigInt c;
    c.rep = (int*)malloc(sizeof(int)*n);
    for (int i = 0; i < n; i++) {
        int sum = a.rep[i] + b.rep[i] + d;
        d = (int)(sum / 10);
        c.rep[i] = sum % 10;
    }
    c.n = n;
    c.d = d;
    return c;
}

int main() {

    BigInt a = big_integer_create("246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498");

    BigInt b = big_integer_create("246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498246346394683469942958349834839483948229498");

    clock_t start, end;
    double cpu_time_used;

    start = clock(); // Start the timer
    BigInt c = add(a, b);
    end = clock(); // Stop the timer
    printf("carry: %d-", c.d);
    for (int i = c.n - 1; i >= 0; i--) {
        printf("%d", (int)c.rep[i]);
    }
    printf("\n");

    cpu_time_used = ((double)(end - start)) / CLOCKS_PER_SEC; // Calculate the elapsed time
    printf("Time taken: %f seconds\n", cpu_time_used);

    return 0;
}
